<div class="view">
    <div class="absence-view">
        <div class="inputs">
            <div class="input-container">
                <button type="button" mat-raised-button (click)="absenceInput.click()"
                    matBadge="{{absences.length}}">Urlopy</button>
                <input hidden type="file" accept=".xlsx" (change)="onLoadAbsences($event)" #absenceInput>
                <span class="secondary-badge">{{results.length}}</span>
            </div>
            <div class="input-container">
                <button type="button" mat-raised-button (click)="definitionsInput.click()"
                    matBadge="{{employees.length}}">Definicje</button>
                <input hidden type="file" accept=".xlsx" (change)="onLoadDefinitions($event)" #definitionsInput>
                <span class="secondary-badge">{{definitions.length}}</span>
            </div>
            <div class="spacer"></div>
            <div class="input-container">
                <button type="button" mat-raised-button (click)="onMatch()">Dopasuj</button>
                <button type="button" mat-raised-button (click)="onExport()">Do schowka</button>
            </div>
        </div>
        @if(absences.length) {
        <div class="panel">
            <div class="row">
                <span class="cell">Pracownik</span>
                <span class="cell">Urlop</span>
                <span class="cell">Od - do</span>

            </div>
            @for(row of absences; track row) {
            <div class="row" [ngClass]="{'matched': row.matched}">
                <span class="cell">{{row.employee}}</span>
                <span class="cell">{{row.absenceType}}</span>
                <span class="cell">{{row.startDate | date: 'dd-MM-yyyy'}} - {{row.endDate | date: 'dd-MM-yyyy'}}</span>
            </div>
            }
        </div>
        }
    </div>
</div>